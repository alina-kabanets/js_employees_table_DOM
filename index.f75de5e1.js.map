{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst table = document.querySelector('table');\nconst tbody = document.querySelector('tbody');\nconst header = document.querySelector('thead');\nlet rows = [...tbody.querySelectorAll('tr')];\nconst theads = [...header.querySelectorAll('th')];\n\nheader.addEventListener('click', (e) => {\n  const target = e.target.closest('th');\n  const index = e.target.cellIndex;\n\n  const sorting = function() {\n    rows.sort((a, b) => {\n      const aContent = a.cells[index].innerText;\n      const bContent = b.cells[index].innerText;\n\n      switch (index) {\n        case 0:\n        case 1:\n        case 2:\n          return aContent.localeCompare(bContent);\n\n        case 3:\n          return aContent - bContent;\n\n        case 4:\n          const toNum = item =>\n            item.slice(1).split(',').join('');\n\n          return toNum(aContent) - toNum(bContent);\n\n        default:\n      }\n    });\n  };\n\n  if (!target.classList.contains('asc-sorted')) {\n    target.classList.add('asc-sorted');\n\n    theads.forEach(item => {\n      if (item !== target) {\n        item.classList.remove('asc-sorted');\n      }\n    });\n\n    sorting();\n  } else {\n    rows.reverse();\n    target.classList.remove('asc-sorted');\n  }\n\n  rows.forEach(item => {\n    tbody.append(item);\n  });\n});\n\ntbody.addEventListener('click', (e) => {\n  const target = e.target.closest('tr');\n\n  for (const row of rows) {\n    if (row !== target) {\n      row.classList.remove('active');\n    }\n  }\n  target.classList.toggle('active');\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\ntable.after(form);\n\nconst categories = [...header.querySelectorAll('th')];\n\nfor (const category of categories) {\n  const label = document.createElement('label');\n\n  label.innerText = category.innerText + ':';\n  form.append(label);\n}\n\nconst labels = [...document.querySelectorAll('label')];\n\nconst locations = [\n  'Tokyo', 'Singapore', 'London', 'New York', 'Edinburgh', 'San Francisco',\n];\n\nfor (const label of labels) {\n  const labelType = label.innerText.slice(0, -1).toLowerCase();\n\n  if (labelType !== 'office') {\n    const input = document.createElement('input');\n\n    input.name = labelType;\n    input.dataset.qa = labelType;\n    input.required = true;\n    label.append(input);\n\n    switch (labelType) {\n      case 'name':\n      case 'position':\n        input.type = 'text';\n        break;\n\n      case 'age':\n      case 'salary':\n        input.type = 'number';\n        break;\n    }\n  } else {\n    const select = document.createElement('select');\n\n    locations.forEach(city => {\n      const option = document.createElement('option');\n\n      option.value = city;\n      option.text = city;\n      select.append(option);\n    });\n\n    select.name = labelType;\n    select.dataset.qa = labelType;\n    select.required = true;\n    label.append(select);\n  }\n};\n\nconst button = document.createElement('button');\n\nbutton.type = 'submit';\nbutton.innerText = 'Save to table';\nform.append(button);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const newName = formData.get('name');\n  const position = formData.get('position');\n  const office = formData.get('office');\n  const age = formData.get('age');\n  const salary = formData.get('salary');\n\n  const minNameLength = 4;\n  const minAge = 18;\n  const maxAge = 90;\n\n  if (newName.length < minNameLength) {\n    showNotification('warning', 'Name can not be less than 4 characters');\n\n    return;\n  };\n\n  if (age < minAge || age > maxAge) {\n    showNotification('error', 'Please enter correct age');\n\n    return;\n  };\n\n  tbody.insertAdjacentHTML('beforeend', `\n    <tr>\n      <td>${newName}</td>\n      <td>${position}</td>\n      <td>${office}</td>\n      <td>${age}</td>\n      <td>$${parseFloat(salary).toLocaleString('en-US')}</td>\n    </tr>\n  `);\n\n  rows = [...tbody.querySelectorAll('tr')];\n  showNotification('success', 'New employee is added successfully');\n  form.reset();\n});\n\nfunction showNotification(type, title) {\n  const notification = document.createElement('div');\n\n  notification.className = `notification ${type}`;\n  notification.setAttribute('data-qa', 'notification');\n\n  const notificationTitle = document.createElement('p');\n\n  notificationTitle.className = 'title';\n  notificationTitle.innerText = title;\n  notification.append(notificationTitle);\n\n  body.append(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 3000);\n};\n\ntbody.addEventListener('dblclick', (e) => {\n  const changedCell = e.target.closest('td');\n  const cellInput = document.createElement('input');\n\n  cellInput.type = 'text';\n\n  cellInput.classList.add('cell-input');\n\n  const initialValue = changedCell.innerText;\n\n  cellInput.value = initialValue;\n  changedCell.innerText = '';\n  changedCell.append(cellInput);\n  cellInput.focus();\n\n  function isEmpty() {\n    if (cellInput.value === null || cellInput.value.trim().length === 0) {\n      return true;\n    }\n  };\n\n  function handleInput() {\n    if (isEmpty()) {\n      cellInput.value = initialValue;\n\n      return;\n    }\n    changedCell.innerText = cellInput.value;\n  };\n\n  cellInput.onblur = function() {\n    handleInput();\n  };\n\n  changedCell.addEventListener('keyup', (ev) => {\n    if (ev.key === 'Enter' || ev.keyCode === 13) {\n      handleInput();\n    }\n  });\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}